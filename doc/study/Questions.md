# 東森的林口恩典大樓企業資訊Agent  


## 1. 背景  
東森集團正在興建新的複合商業大樓「林口恩典大樓」(Grace Tower)，  
包含新的辦公室，與晶華酒店合作的旅館、餐廳，商場、教堂、展演空間等多項設施。  
此大樓的興建與後續啟用規劃是一個跨所有部門的大型專案，  
故必須要解決知識管理的瓶頸，以及RAG功能部署技術上的實現。  


## 2. 協助需求內容  
想向Cloud Acceleration Factory團隊尋求以下支援：  
1. 協助建立在Azure，東森訂閱帳戶下的MVP  
2. 以顧問角度指導我們理解最佳的實踐做法是什麼?  例如以下面向(可參考下方需求目標)：  
    a. RAG正確嚴謹性，與GenAI創造性如何平衡  
    b. 檔案/知識管理  
    c. 資料治理/清整等面向上  


## 3. 使用情境  

### 3-1. 使用者  
- 公司內部相關的主管、員工  

### 3-2. 使用介面  
- 前端介面必須要能跨裝置操作、呈現，以利工程、探勘現場人員也能透過手機、平板等即時存取  

### 3-3. 使用場景  
- 使用者會查找與某專案相關的  
    a. 最新資訊狀態(例如工程進度、樓層用途、設計是否變更)  
    b. 確切的資訊、數字 (基本的RAG用途)  
    c. 根據現況的資訊、數據，進行未來行銷、商業模式開發、營運規劃、服務設計等創意構想，並且推算其經濟效益  


## 4. 需求目標  

### 4-1. RAG正確性，與GenAI創造性的平衡  
我們這個Agent的一個常用場景是，主管們會詢問這些機器人現況的正確資訊或數據，  
並據此再展開構想，與Agent互動brain storm未來可以如何擴展大樓相關商業應用，或預測未來可能遇到的問題與解方。  
此時這個Agent必須同時具備兩種矛盾的特質：  
- Agent必須對取回並回答正確的資料非常嚴謹，不可因過度臆測而產生幻覺  
- Agent必須充滿創造力，協助推理預測、自由發揮創意、提供靈感來源  
我們想請益如何設計，可以讓此兩種特質不互相矛盾而可以融合；若無法時，最佳的平衡點是什麼?  

### 4-2. 多模態 (Multi-modal)  
我們的資料來源主要會是Word文件、PowerPoint簡報、Excel報表、圖片、純文字文件(少見)等。  
RAG功能需要可以處理這多種檔案，尤其如Word中圖文結合的內容  
例如大樓介紹部分，可能是幾段文字配上一張有文字的圖片)、  
或者PowerPoint中一個頁面同時有圖、文、表格的情況。  
RAG必須讀對圖、文、表格，並且理解這些資訊之間的關聯性。  

Good To Have：多模態能否處理影片? (例如大樓宣傳介紹影片、大樓相關商品行銷VCR)  

### 4-3. 檔案管理  
我們會需要開放各單位使用者上傳檔案。  
我們目前透過Blob Storage的Put/Delete API搭配AI Search Indexer API來達到上傳後近即時可在RAG查詢的效果。  
但在刪除情境時，除了透過API逐一將Chunk刪除外，有沒有更好的方式可以讓使用者可以「下架」某個檔案的資訊，  
使其不再能被RAG查找到?  

### 4-4. 版本控管  
版本控管是3. 檔案管理的延伸，當資訊(檔案)會更新，要怎麼做到更好的版本管理?  
包含以下情境：  
1. 同一個檔名的檔案，直接更新覆蓋時，如何保留舊版本以供版本歷程記錄? (目前想到的方法是，將舊版本移到另一個Blob目錄並加上版本戳記)  
2. 同一個檔名，使用者會自行添加日期或版本後綴(如『工程進度_2025-12-31.docx』、『行銷專案_v3.pptx』)，  
此時 \*_v2.pptx 和 \*_v3.pptx 實為同一份資訊應被更新而不能被視為獨立的兩個檔案：  
3. 完全不同的兩個檔案，包含同一個資訊，但有新舊差異：  
例如『規劃.pptx』提到「展演廳燈具總數量為200盞」，但過幾天『營運.pptx』中提到決議變更：「展演廳燈光與音響設計須根據空間調整重新商議」，  
但可能文件中不會提到明確日期，此時RAG中要如何正確判斷多個檔案提及同一件事情並且資訊的效力有無?  
目前想到的解法是增加一個時間欄位，用某種方式在檔案上傳時註記資訊的生效時間，  
據此判斷新舊，例如根據新舊排序RAG retrieve階段的搜尋結果。  

### 4-5. 資料治理/資料清整  
使用者上傳的檔案內容填寫方式差異很大，檔案內容填寫方式是否會影響RAG效果?  
1. 若會，在不太可能要求所有資料提供者都完全遵照某種規格提供資料給RAG資料源的情況下：  
    a. 我們若可以請使用者小幅度調整內容，是否會對RAG有幫助? 哪些調整會幫助最大?  
    b. 除此之外，我們是否會需要設計一個自動化清整流程，在前台UI收到檔案後，上傳至BLOB之前觸發? 哪些清整功夫最小但效益最大?  
2. 檔案名稱對RAG效果影響大小如何，是否需要規範提供者命名規範?  
3. 資料夾擺放方式是否有影響? 怎麼樣是最佳的擺放設計?  
